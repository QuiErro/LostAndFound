webpackJsonp([9],{"6yyd":function(e,t){},xVOn:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("Xxa5"),r=o.n(s),n=o("exGp"),a=o.n(n),i=o("gyMJ"),l={name:"Register",data:function(){return{start:!1,type:0,email:"",phone:"",code:null,student_id:"",password:""}},methods:{goBack:function(){this.$router.go(-1)},goLogin:function(){this.$router.replace("/login")},register:function(){var e=this;return a()(r.a.mark(function t(){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.$refs.emailInput.valid&&e.code&&e.password)){t.next=9;break}return e.code=Number(e.code),t.next=4,Object(i.b)(e.type,e.email,e.code,e.student_id,e.password);case 4:o=t.sent,console.log(o),0===o.error_code?(e.$dialog.toast({mes:"注册成功!请登录",icon:"success",timeout:1e3}),setTimeout(function(){e.$router.replace("/login")},1e3),e.start=!1,e.email="",e.phone="",e.code=null,e.student_id="",e.password=""):e.$dialog.toast({mes:o.error_msg,icon:"error",timeout:1e3}),t.next=10;break;case 9:e.$dialog.toast({mes:"请确认输入框内容是否规范",icon:"none",timeout:1e3});case 10:case"end":return t.stop()}},t,e)}))()},sendCode:function(){var e=this;return a()(r.a.mark(function t(){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.emailInput.valid){t.next=11;break}return e.$dialog.loading.open("发送中..."),t.next=4,Object(i.h)(e.email);case 4:o=t.sent,console.log(o),e.start=!0,e.$dialog.loading.close(),0===o.error_code?e.$dialog.toast({mes:"已发送",icon:"success",timeout:1e3}):2001===o.error_code&&e.$dialog.toast({mes:o.error_msg,icon:"none",timeout:1e3}),t.next=12;break;case 11:e.$dialog.toast({mes:"邮箱"+e.$refs.emailInput.errorMsg,icon:"error",timeout:1e3});case 12:case"end":return t.stop()}},t,e)}))()}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"register-container"},[o("div",{staticClass:"back-icon"},[o("span",{on:{click:e.goBack}},[o("i",{staticClass:"mui-icon mui-icon-back"})])]),e._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"}),e._v(" "),o("yd-input",{ref:"emailInput",attrs:{slot:"right",required:"",debug:!0,regex:"email",placeholder:"请输入邮箱"},slot:"right",model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"}),e._v(" "),o("yd-input",{attrs:{slot:"right",placeholder:"请输入邮箱验证码"},slot:"right",model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),o("yd-sendcode",{attrs:{slot:"right",type:"warning","init-str":"获取验证码",second:"60","run-str":"{%s}秒后重新获取"},nativeOn:{click:function(t){return e.sendCode(t)}},slot:"right",model:{value:e.start,callback:function(t){e.start=t},expression:"start"}})],1),e._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"}),e._v(" "),o("yd-input",{attrs:{slot:"right",placeholder:"请输入学号"},slot:"right",model:{value:e.student_id,callback:function(t){e.student_id=t},expression:"student_id"}})],1),e._v(" "),o("yd-cell-item",[o("span",{attrs:{slot:"left"},slot:"left"}),e._v(" "),o("yd-input",{attrs:{slot:"right",type:"password",placeholder:"请输入密码"},slot:"right",model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),o("div",{staticClass:"post-btn"},[o("mt-button",{attrs:{type:"primary",size:"large"},on:{click:e.register}},[e._v("注册")])],1),e._v(" "),o("div",{staticClass:"gologin",on:{click:e.goLogin}},[e._v("立即登录")])],1)},staticRenderFns:[]};var d=o("VU/8")(l,c,!1,function(e){o("6yyd")},"data-v-27888807",null);t.default=d.exports}});
//# sourceMappingURL=9.33897ba998491c40fad4.js.map